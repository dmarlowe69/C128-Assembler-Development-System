*=$0801;********************************; EXTERNAL ADDRESS EQUATES;********************************SETLFS=$FFBASETNAM=$FFBDOPEN=$FFC0CLOSE=$FFC3CHKIN=$FFC6CLRCHN=$FFCCCHRIN=$FFCFCHROUT=$FFD2STOP=$FFE1;********************************       ORA XX0A08       BRK ;********************************         .BYTE $9E ;??? ILLEGAL OPCODE       PLP          .BYTE $32  ;'2' ;??? ILLEGAL OPCODE       BMI XX0840         .BYTE $33  ;'3' ;??? ILLEGAL OPCODE       AND #$00       BRK ;********************************       BRK ;********************************XX080F JSR CLRCHN       LDA #$00       STA XX0A6A       STA XX0A6B       STA XX0A67       STA XX0A68       STA $90       LDX #$4B      ;'K'       JSR XX09AD       JSR XX09F1       BCC XX080F       LDX #$A5       JSR XX09AD       LDX #$28      ;'('       STX XX0A6CXX0836 DEC XX0A6C       BEQ XX080F       JSR CHRIN       CMP #$20      ;' 'XX0840 BEQ XX0836       CMP #$0D       BNE XX0849       JMP XX0987;********************************XX0849 LDX #$00       STX XX0A80       BEQ XX0857XX0850 JSR CHRIN       CMP #$20      ;' '       BEQ XX086CXX0857 CMP #$0D       BEQ XX086C       LDX XX0A80       CPX #$0F       BEQ XX080F       STA XX0A6E,X       INX        STX XX0A80       JMP XX0850;********************************XX086C LDA #$2C      ;','       STA XX0A6E,X       INX        LDA #$53      ;'S'       STA XX0A6E,X       INX        STX XX0A80       LDA #$0D       JSR CHROUT       LDA #$07       LDX #$08       LDY #$0F       JSR SETLFS       LDA #$49      ;'I'       STA XX0A65       LDA #$30      ;'0'       STA XX0A66       LDX #$65       LDY #$0A       LDA #$02       JSR SETNAM       JSR OPEN       LDA $90       BEQ XX08A7       CMP #$40      ;'@'       BNE XX08CAXX08A7 LDA #$07       JSR CLOSE       LDA #$07       LDX #$08       LDY #$07       JSR SETLFS       LDX #$6E       LDY #$0A       LDA XX0A80       JSR SETNAM       JSR OPEN       LDA $90       BEQ XX08CD       CMP #$40      ;'@'       BEQ XX08CDXX08CA JMP XX0976;********************************XX08CD LDX #$07       JSR CHKINXX08D2 JSR STOP       BNE XX08DA       JMP XX097F;********************************XX08DA JSR XX09CE       CMP #$3B      ;';'       BNE XX08D2       LDA #$00       STA XX0A65       STA XX0A66       STA XX0A6C       JSR XX0A10       BNE XX0907       JSR XX0A10       CMP XX0A6B       BEQ XX08FC       JMP XX0982;********************************XX08FC JSR XX0A10       CMP XX0A6A       BNE XX0982       JMP XX0987;********************************XX0907 STA XX0A69       INC XX0A6A       BNE XX0912       INC XX0A6BXX0912 JSR XX09E4       JSR XX0A10       PHA        CLC        ADC XX0A68       STA $FC       PLA        JSR XX09E4       JSR XX0A10       PHA        CLC        ADC XX0A67       STA $FB       BCC XX0931       INC $FCXX0931 PLA        JSR XX09E4       LDA XX0A6A       CMP #$01       BNE XX0944       LDA #$0D       JSR CHROUT       JSR XX0A3AXX0944 JSR XX0A10       LDY XX0A6C       STY XX0A80       INC XX0A6C       STA ($FB),Y       CMP ($FB),Y       BNE XX0979       JSR XX09E4       DEC XX0A69       BNE XX0944       JSR XX0A10       CMP XX0A66       BNE XX097C       JSR XX0A10       CMP XX0A65       BNE XX097C       LDA #$2E      ;'.'       JSR CHROUT       JMP XX08D2;********************************XX0976 LDX #$40      ;'@'       BIT $24A2       BIT $31A2       BIT $11A2       BIT $00A2       JSR XX09ADXX0987 JSR CLRCHN       LDA #$07       JSR CLOSE       CLC        LDA XX0A80       ADC $FB       STA $FB       LDA $FC       ADC #$00       STA $FC       LDA #$0D       JSR CHROUT       JSR XX0A3A       LDX #$18       JSR XX09AD       JMP $E391;********************************XX09AD STX XX0A6CXX09B0 LDX XX0A6C       LDA XX0A81,X       PHP        AND #$7F       JSR CHROUT       INC XX0A6C       PLP        BPL XX09B0       RTS ;********************************XX09C3 CMP #$3A      ;':'       PHP        AND #$0F       PLP        BCC XX09CD       ADC #$08XX09CD RTS ;********************************XX09CE JSR CHRIN       PHA        LDA $90       BEQ XX09DA       CMP #$40      ;'@'       BNE XX09DCXX09DA PLA        RTS ;********************************XX09DC PLA        PLA        PLA        PLA        PLA        JMP XX0976;********************************XX09E4 CLC        ADC XX0A65       STA XX0A65       BCC XX09F0       INC XX0A66XX09F0 RTS ;********************************XX09F1 JSR XX09CE       CMP #$0D       BEQ XX0A0C       CMP #$20      ;' '       BEQ XX0A0E       JSR XX0A18       BCC XX0A0E       STA XX0A68       JSR XX0A10       BCC XX0A0E       STA XX0A67XX0A0C SEC        RTS ;********************************XX0A0E CLC        RTS ;********************************XX0A10 LDA #$00       STA XX0A6D       JSR XX09CEXX0A18 CMP #$20      ;' '       BNE XX0A25       JSR XX09CE       CMP #$20      ;' '       BNE XX0A32       CLC        RTS ;********************************XX0A25 JSR XX09C3       ASL A       ASL A       ASL A       ASL A       STA XX0A6D       JSR XX09CEXX0A32 JSR XX09C3       ORA XX0A6D       SEC        RTS ;********************************XX0A3A LDA $FB       PHA        LDA $FC       JSR XX0A43       PLA XX0A43 PHA        LSR A       LSR A       LSR A       LSR A       JSR XX0A5B       TAX        PLA        AND #$0F       JSR XX0A5B       PHA        TXA        JSR CHROUT       PLA        JMP CHROUT;********************************XX0A5B CLC        ADC #$F6       BCC XX0A62       ADC #$06XX0A62 ADC #$3A      ;':'       RTS ;********************************XX0A65 TAX XX0A66 TAX XX0A67 TAX XX0A68 TAX XX0A69 TAX XX0A6A TAX XX0A6B TAX XX0A6C TAX XX0A6D TAX XX0A6E TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX        TAX XX0A80 TAX XX0A81 ORA $4142         .BYTE $44  ;'D' ;??? ILLEGAL OPCODE       JSR $4552         .BYTE $43  ;'C' ;??? ILLEGAL OPCODE         .BYTE $4F  ;'O' ;??? ILLEGAL OPCODE         .BYTE $52  ;'R' ;??? ILLEGAL OPCODE         .BYTE $44  ;'D' ;??? ILLEGAL OPCODE       JSR $4F43       EOR $4E,X         .BYTE $D4 ;??? ILLEGAL OPCODE       ORA $5242       EOR $41         .BYTE $4B  ;'K' ;??? ILLEGAL OPCODE       STA $450D       LSR $2044         .BYTE $4F  ;'O' ;??? ILLEGAL OPCODE       LSR $20       JMP $414F;********************************       CPY $0D       LSR $4E4F       AND $4152       EOR $4C20         .BYTE $4F  ;'O' ;??? ILLEGAL OPCODE       EOR ($C4,X)       ORA $4843       EOR $43         .BYTE $4B  ;'K' ;??? ILLEGAL OPCODE         .BYTE $53  ;'S' ;??? ILLEGAL OPCODE       EOR $4D,X       JSR $5245         .BYTE $52  ;'R' ;??? ILLEGAL OPCODE         .BYTE $4F  ;'O' ;??? ILLEGAL OPCODE         .BYTE $D2 ;??? ILLEGAL OPCODE       ORA $4946       JMP $2045;********************************       EOR $52         .BYTE $52  ;'R' ;??? ILLEGAL OPCODE         .BYTE $4F  ;'O' ;??? ILLEGAL OPCODE         .BYTE $D2 ;??? ILLEGAL OPCODE       ORA $0D0D       JMP $4C4F;********************************         .BYTE $4F  ;'O' ;??? ILLEGAL OPCODE       EOR ($44,X)       ROL $3643         .BYTE $34  ;'4' ;??? ILLEGAL OPCODE       JSR $3056         .BYTE $37  ;'7' ;??? ILLEGAL OPCODE         .BYTE $32  ;'2' ;??? ILLEGAL OPCODE       SEC        SEC          .BYTE $32  ;'2' ;??? ILLEGAL OPCODE       ORA $4328       AND #$20      ;' '       AND ($39),Y       SEC          .BYTE $32  ;'2' ;??? ILLEGAL OPCODE       JSR $5942       JSR $4F43       EOR $4F4D         .BYTE $44  ;'D' ;??? ILLEGAL OPCODE         .BYTE $4F  ;'O' ;??? ILLEGAL OPCODE         .BYTE $52  ;'R' ;??? ILLEGAL OPCODE       EOR $20         .BYTE $42  ;'B' ;??? ILLEGAL OPCODE       EOR $53,X       EOR #$4E      ;'N'       EOR $53         .BYTE $53  ;'S' ;??? ILLEGAL OPCODE       JSR $414D         .BYTE $43  ;'C' ;??? ILLEGAL OPCODE       PHA        EOR #$4E      ;'N'       EOR $53       ORA $0D0D       PHA        EOR $58       JSR $464F       LSR $53       EOR $54       JSR $4328         .BYTE $52  ;'R' ;??? ILLEGAL OPCODE       JSR $4649       JSR $4F4E       LSR $2945       JSR $A03F       ORA $424F       LSR A       EOR $43         .BYTE $54  ;'T' ;??? ILLEGAL OPCODE       JSR $4946       JMP $2045;********************************       LSR $4D41       EOR $20         .BYTE $3F  ;'?' ;??? ILLEGAL OPCODE       LDY #$AA       TAX        TAX        TAX        TAX        TAX ;********************************.END